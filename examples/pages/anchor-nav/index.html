<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1" />
  <title>锚点导航</title>
  <link rel="stylesheet" href="/faerie/css/normalize.css">
  <link rel="stylesheet" href="/faerie/css/github.css">
  <style type="text/css">
    iframe {
      border: 1px solid #2b2b2b;
    }
  </style>
</head>

<body>
  <layout id="app">
    <h1>锚点导航</h1>
    <!-- 示例 -->
    <br>
    <h4>二维码示例</h4>
    <img src="https://res.kilohaty.com/faerie/img/anchor_nav_demo_qr_code.jpg" alt="">
    <br>
    <h4>iframe示例</h4>
    <iframe src="../anchor-nav-demo/index.html" frameborder="0" width="375" height="667"></iframe>

    <!-- Props -->
    <br>
    <h4>Props</h4>
    <pre v-pre>
      <code data-language="html">
        value //  {String} 当前激活的锚点名称，修改锚点名称，即可定位到指定锚点目标
        triggerDistance //  {Number} 触发距离(像素)，用来修正到达锚点目标的定位，默认0
        dataModel //  {Number} 数据模型，修改此值即可重新计算，适用于页面高度变化、锚点变化等场景
      </code>
    </pre>

    <!-- 属性 -->
    <br>
    <h4>属性</h4>
    <pre v-pre>
      <code data-language="html">
        data-fr-anchor //  {String} 在slot插槽内，标记为锚点的元素
        data-fr-anchor-target //  {String} 标记为锚点目标的元素
      </code>
    </pre>

    <!-- 代码 -->
    <br>
    <h4>代码</h4>
    <pre v-pre>
      <code data-language="html">
         &lt;div id="app"&gt; 
            &lt;!-- 导航占位 --&gt;
            &lt;div class="anchor-placeholder"&gt;
                &lt;!-- 锚点导航 --&gt;
                &lt;fr-anchor-nav v-model="activeAnchor" :data-model="dataModal" :trigger-distance="60"&gt;
                        &lt;!-- 导航分类 --&gt;
                        &lt;span class="nav-item" data-fr-anchor="name_01" :class="{'active': activeAnchor === 'name_01'}"&gt;
                            家居日用
                        &lt;/span&gt;
                        &lt;span class="nav-item" data-fr-anchor="name_02" :class="{'active': activeAnchor === 'name_02'}"&gt;
                            进口零食
                        &lt;/span&gt;
                        &lt;span class="nav-item" data-fr-anchor="name_03" :class="{'active': activeAnchor === 'name_03'}"&gt;
                            基础护肤
                        &lt;/span&gt;
                        &lt;!-- 省略 --&gt;
                &lt;/fr-anchor-nav&gt;
              &lt;/div&gt;

              &lt;!-- 楼层商品 --&gt;
              &lt;div&gt;
                  &lt;div data-fr-anchor-target="name_01">家居日用&lt;/div&gt;
                  &lt;p&gt;商品0 &lt;/p&gt;
                  &lt;p&gt;商品1 &lt;/p&gt;
                  &lt;p&gt;商品2 &lt;/p&gt;
                  &lt;p&gt;商品3 &lt;/p&gt;
                  &lt;p&gt;商品4 &lt;/p&gt;
                  &lt;!-- 省略 --&gt;
                  &lt;div data-fr-anchor-target="name_02">进口零食&lt;/div&gt;
                  &lt;p&gt;商品0 &lt;/p&gt;
                  &lt;p&gt;商品1 &lt;/p&gt;
                  &lt;p&gt;商品2 &lt;/p&gt;
                  &lt;p&gt;商品3 &lt;/p&gt;
                  &lt;p&gt;商品4 &lt;/p&gt;
                  &lt;!-- 省略 --&gt;
                  &lt;div data-fr-anchor-target="name_03">基础护肤&lt;/div&gt;
                  &lt;p&gt;商品0 &lt;/p&gt;
                  &lt;p&gt;商品1 &lt;/p&gt;
                  &lt;p&gt;商品2 &lt;/p&gt;
                  &lt;p&gt;商品3 &lt;/p&gt;
                  &lt;p&gt;商品4 &lt;/p&gt;
                  &lt;!-- 省略 --&gt;
              &lt;/div&gt;
        &lt;/div&gt;
      </code>
    </pre>

    <pre>
      <code data-language="javascript">
          new Vue({
            el: '#app',
          
            data() {
                activeAnchor: '',
                dataModal: 0,
              }
            },
          
            methods: {
              /**
               * 页面高度变化/锚点数量变化等场景，重新计算
               */ 
              updateDataModel() {
                this.dataModal = Date.now();
              },

              /**
               * 手动跳转到指定锚点目标
               */
              goToCustomAnchorTarget(index) {
                this.activeAnchor = 'anchor' + index;
              }
            }
          });
      </code>
  </pre>

  </layout>

  <script src="/faerie/js/rainbow/rainbow.js"></script>
  <script src="/faerie/js/rainbow/language/html.js"></script>
  <script src="/faerie/js/rainbow/language/javascript.js"></script>
</body>

</html>